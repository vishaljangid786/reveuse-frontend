{"version":3,"file":"CompaniesOverview.ByuMHbhD.js","sources":["../../src/components/FeatureScroll.jsx","../../src/components/CompaniesOverview.jsx"],"sourcesContent":["import React, { useRef, useState, useEffect } from \"react\";\r\nimport { Swiper, SwiperSlide } from \"swiper/react\";\r\nimport { Autoplay, Navigation } from \"swiper/modules\";\r\nimport \"swiper/css\";\r\nimport \"swiper/css/navigation\";\r\nimport { features } from \"../assets/assets\";\r\n\r\nconst FeaturesSlider = () => {\r\n  const [isVisible, setIsVisible] = useState(false);\r\n  const containerRef = useRef(null);\r\n\r\n  // Intersection Observer to detect if component is in viewport\r\n  useEffect(() => {\r\n    const observer = new window.IntersectionObserver(\r\n      ([entry]) => setIsVisible(entry.isIntersecting),\r\n      { threshold: 0.2 }\r\n    );\r\n    if (containerRef.current) observer.observe(containerRef.current);\r\n    return () => {\r\n      if (containerRef.current) observer.unobserve(containerRef.current);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div ref={containerRef} className=\"max-w-7xl mx-auto px-4 py-10\">\r\n      <Swiper\r\n        modules={[Autoplay, Navigation]}\r\n        spaceBetween={20}\r\n        navigation\r\n        loop\r\n        autoplay={\r\n          isVisible\r\n            ? {\r\n                delay: 2500,\r\n                disableOnInteraction: false,\r\n              }\r\n            : false\r\n        }\r\n        breakpoints={{\r\n          0: { slidesPerView: 1 }, // mobile\r\n          640: { slidesPerView: 1 }, // small screens\r\n          768: { slidesPerView: 2 }, // tablets\r\n          1024: { slidesPerView: 3 }, // desktops\r\n          1280: { slidesPerView: 4 }, // large screens\r\n        }}\r\n        className=\"group\">\r\n        {features.map((feature, index) => (\r\n          <SwiperSlide key={index}>\r\n            <div className=\"flex flex-col items-center text-center p-4 rounded-2xl hover:scale-105 transition-transform duration-500 bg-white shadow-lg group-hover:shadow-2xl\">\r\n              <img\r\n                loading=\"lazy\"\r\n                src={feature.image}\r\n                alt={feature.title}\r\n                className=\"h-40 w-full object-cover rounded-lg mb-3 sm:h-48 md:h-52 lg:h-56\"\r\n              />\r\n              <h3 className=\"font-semibold text-base sm:text-lg md:text-xl\">\r\n                {feature.title}\r\n              </h3>\r\n            </div>\r\n          </SwiperSlide>\r\n        ))}\r\n      </Swiper>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FeaturesSlider;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport Heading from \"./Heading\";\r\nimport { backendurl } from \"../App\";\r\nimport Loader from \"./Loader\";\r\nimport { Link } from \"react-router-dom\";\r\nimport FeatureScroll from \"./FeatureScroll\";\r\n\r\nconst CompaniesOverview = () => {\r\n  const [services, setServices] = useState([]);\r\n  const [page, setPage] = useState(1);\r\n  const [loading, setLoading] = useState(false);\r\n  const [hasMore, setHasMore] = useState(true);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const fetchServices = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const res = await fetch(`${backendurl}/api/services`);\r\n      if (!res.ok) {\r\n        throw new Error(`HTTP error! status: ${res.status}`);\r\n      }\r\n      const data = await res.json();\r\n\r\n      // Reverse the array to get descending order and take the first 6 items\r\n      const latestSix = data.slice().reverse().slice(0, 6);\r\n      setServices(latestSix);\r\n    } catch (err) {\r\n      console.error(\"Failed to fetch:\", err);\r\n      setError(\"Failed to load services.\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchServices(page);\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <Heading\r\n        text1=\"Companies Overview\"\r\n        text2=\"Our Partners\"\r\n        toggle=\"company\"\r\n      />\r\n      <FeatureScroll />\r\n\r\n      <div className=\"scale-75\">\r\n        <Heading text1=\"My\" text2=\"Gallery\" />\r\n      </div>\r\n\r\n      {loading && <Loader />}\r\n      {error && <p className=\"text-center text-red-500\">{error}</p>}\r\n\r\n      <div className=\"max-w-6xl mx-auto px-4 py-12 mb-10 grid gap-8 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3\">\r\n        {services.map((service, index) => (\r\n          <div\r\n            key={service._id}\r\n            className=\"rounded-xl hover:scale-105 cursor-pointer overflow-hidden shadow-md hover:shadow-lg transition duration-300\">\r\n            <Link to=\"/services\">\r\n              <img\r\n                loading=\"lazy\"\r\n                src={service.imageUrl}\r\n                alt={`Service ${index + 1}`}\r\n                className=\"h-64 w-full object-cover\"\r\n              />\r\n            </Link>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CompaniesOverview;\r\n"],"names":["FeaturesSlider","isVisible","setIsVisible","useState","containerRef","useRef","useEffect","observer","window","IntersectionObserver","entry","isIntersecting","threshold","current","observe","unobserve","jsx","ref","className","children","Swiper","modules","Autoplay","Navigation","spaceBetween","navigation","loop","autoplay","delay","disableOnInteraction","breakpoints","slidesPerView","features","map","feature","index","SwiperSlide","jsxs","loading","src","image","alt","title","CompaniesOverview","services","setServices","page","setPage","setLoading","hasMore","setHasMore","error","setError","async","res","fetch","backendurl","ok","Error","status","latestSix","json","slice","reverse","err","console","fetchServices","Heading","text1","text2","toggle","FeatureScroll","Loader","service","Link","to","imageUrl","_id"],"mappings":"uLAOA,MAAMA,EAAiB,KACrB,MAAOC,EAAWC,GAAgBC,EAAAA,UAAS,GACrCC,EAAeC,EAAAA,OAAO,MAc5B,OAXAC,EAAAA,UAAU,KACR,MAAMC,EAAW,IAAIC,OAAOC,qBAC1B,EAAEC,KAAWR,EAAaQ,EAAMC,gBAChC,CAAEC,UAAW,KAGf,OADIR,EAAaS,SAASN,EAASO,QAAQV,EAAaS,SACjD,KACDT,EAAaS,SAASN,EAASQ,UAAUX,EAAaS,WAE3D,IAGDG,EAAAA,IAAC,MAAA,CAAIC,IAAKb,EAAcc,UAAU,+BAChCC,SAAAH,EAAAA,IAACI,EAAA,CACCC,QAAS,CAACC,EAAUC,GACpBC,aAAc,GACdC,YAAU,EACVC,MAAI,EACJC,WACE1B,GACI,CACE2B,MAAO,KACPC,sBAAsB,GAI9BC,YAAa,CACX,EAAG,CAAEC,cAAe,GACpB,IAAK,CAAEA,cAAe,GACtB,IAAK,CAAEA,cAAe,GACtB,KAAM,CAAEA,cAAe,GACvB,KAAM,CAAEA,cAAe,IAEzBb,UAAU,QACTC,SAAAa,EAASC,IAAI,CAACC,EAASC,UACrBC,EAAA,CACCjB,SAAAkB,EAAAA,KAAC,MAAA,CAAInB,UAAU,qJACbC,SAAA,CAAAH,EAAAA,IAAC,MAAA,CACCsB,QAAQ,OACRC,IAAKL,EAAQM,MACbC,IAAKP,EAAQQ,MACbxB,UAAU,qEAEZF,EAAAA,IAAC,KAAA,CAAGE,UAAU,gDACXC,WAAQuB,YATGP,SCxCtBQ,EAAoB,KACxB,MAAOC,EAAUC,GAAe1C,EAAAA,SAAS,KAClC2C,EAAMC,GAAW5C,EAAAA,SAAS,IAC1BmC,EAASU,GAAc7C,EAAAA,UAAS,IAChC8C,EAASC,GAAc/C,EAAAA,UAAS,IAChCgD,EAAOC,GAAYjD,EAAAA,SAAS,IA0BnC,OAJAG,EAAAA,UAAU,KApBY+C,WACpBL,GAAW,GACX,IACE,MAAMM,QAAYC,MAAM,GAAGC,kBAC3B,IAAKF,EAAIG,GACP,MAAM,IAAIC,MAAM,uBAAuBJ,EAAIK,UAE7C,MAGMC,SAHaN,EAAIO,QAGAC,QAAQC,UAAUD,MAAM,EAAG,GAClDjB,EAAYe,EAAS,OACdI,GACPC,QAAQd,MAAM,mBAAoBa,GAClCZ,EAAS,2BAA0B,CACrC,QACEJ,GAAW,EAAK,GAKlBkB,IACC,WAGA,MAAA,CACC/C,SAAA,CAAAH,EAAAA,IAACmD,EAAA,CACCC,MAAM,qBACNC,MAAM,eACNC,OAAO,kBAERC,EAAA,IAEDvD,EAAAA,IAAC,MAAA,CAAIE,UAAU,WACbC,SAAAH,EAAAA,IAACmD,GAAQC,MAAM,KAAKC,MAAM,cAG3B/B,SAAYkC,EAAA,IACZrB,GAASnC,EAAAA,IAAC,IAAA,CAAEE,UAAU,2BAA4BC,SAAAgC,IAEnDnC,EAAAA,IAAC,OAAIE,UAAU,6FACZC,WAASc,IAAI,CAACwC,EAAStC,IACtBnB,EAAAA,IAAC,MAAA,CAECE,UAAU,8GACVC,SAAAH,EAAAA,IAAC0D,EAAA,CAAKC,GAAG,YACPxD,SAAAH,EAAAA,IAAC,MAAA,CACCsB,QAAQ,OACRC,IAAKkC,EAAQG,SACbnC,IAAK,WAAWN,EAAQ,IACxBjB,UAAU,gCAPTuD,EAAQI"}