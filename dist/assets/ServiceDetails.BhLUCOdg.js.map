{"version":3,"file":"ServiceDetails.BhLUCOdg.js","sources":["../../src/components/SuggestedServices.jsx","../../src/Pages/ServiceDetails.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Heading from \"./Heading\";\nimport { backendurl } from \"../App\";\nimport { Link } from \"react-router-dom\";\n\nconst SuggestedServices = ({ id }) => {\n  const [services, setServices] = useState([]);\n\n  useEffect(() => {\n    const fetchServices = async () => {\n      try {\n        const res = await fetch(`${backendurl}/api/services`);\n        if (!res.ok) {\n          throw new Error(`HTTP error! status: ${res.status}`);\n        }\n        const data = await res.json();\n        // Filter out the current service using the id prop\n        const filtered = data.filter((service) => service._id !== id);\n        setServices(filtered.slice(0, 10)); // Suggested limit\n      } catch (err) {\n        console.error(\"Error fetching services:\", err);\n      }\n    };\n\n    fetchServices();\n  }, [id]);\n\n  return (\n    <div className=\"max-w-7xl mx-auto px-4 py-14 relative\">\n      <Heading text1={\"Our Other\"} text2={\"Services\"} />\n\n      {/* Scrollable Container */}\n      <div className=\"relative mt-8 overflow-x-auto py-5 pb-14 hide-scrollbar\">\n        <div className=\"flex space-x-6 w-max\">\n          {services.map((service) => (\n            <Link\n              to={`/services/${service._id}`}\n              key={service._id}\n              className=\"min-w-[260px] bg-white rounded-2xl shadow-lg overflow-hidden transform transition duration-300 hover:scale-105 hover:shadow-2xl group\">\n              {service.imageUrl && (\n                <img\n                  loading=\"lazy\"\n                  src={\n                    service.imageUrl.startsWith(\"http\")\n                      ? service.imageUrl\n                      : `${backendurl}${service.imageUrl}`\n                  }\n                  alt={service.title}\n                  className=\"w-full h-44 object-cover rounded-t-2xl\"\n                />\n              )}\n              <div className=\"p-4\">\n                <h3 className=\"text-lg font-bold text-gray-800 group-hover:text-blue-600 transition-colors duration-300\">\n                  {service.title}\n                </h3>\n                <p className=\"mt-1 text-sm text-gray-500 line-clamp-2\">\n                  {service.description?.slice(0, 70) ||\n                    \"Professional and reliable service.\"}\n                </p>\n              </div>\n            </Link>\n          ))}\n        </div>\n      </div>\n\n      {/* Optional: Gradient Scroll Hint */}\n      <div className=\"absolute top-0 right-0 h-full w-20 bg-gradient-to-l from-white to-transparent pointer-events-none\" />\n      <div className=\"absolute top-0 left-0 h-full w-20 bg-gradient-to-l from-transparent to-white pointer-events-none\" />\n    </div>\n  );\n};\n\nexport default SuggestedServices;\n","import React, { useEffect, useState } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport { backendurl } from \"../App\";\r\nimport Heading from \"../components/Heading\";\r\nimport TabSlider from \"../components/TabSlider\";\r\nimport SuggestedServices from \"../components/SuggestedServices.jsx\";\r\n\r\nconst ServiceDetails = () => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const [service, setService] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(\"\");\r\n  const [selectedIndex, setSelectedIndex] = useState(0);\r\n  const [isImageOpen, setIsImageOpen] = useState(false); // To control full-screen image view\r\n\r\n  useEffect(() => {\r\n    const fetchService = async () => {\r\n      try {\r\n        const res = await fetch(`${backendurl}/api/services/${id}`);\r\n        if (!res.ok) {\r\n          throw new Error(\"Failed to load service\");\r\n        }\r\n        const data = await res.json();\r\n        setService(data);\r\n      } catch (err) {\r\n        setError(err.message || \"Failed to load service\");\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchService();\r\n  }, [id]);\r\n\r\n  useEffect(() => {\r\n    if (!service || !service.details || service.details.length === 0) return;\r\n\r\n    const interval = setInterval(() => {\r\n      setSelectedIndex((prevIndex) => (prevIndex + 1) % service.details.length);\r\n    }, 3000); // 3 seconds\r\n\r\n    return () => clearInterval(interval); // Cleanup on unmount\r\n  }, [service]);\r\n\r\n  if (loading) return <p className=\"text-center py-10\">Loading service...</p>;\r\n  if (error) return <p className=\"text-center text-red-500 py-10\">{error}</p>;\r\n\r\n  return (\r\n    <>\r\n      <div className=\"max-w-4xl mx-auto px-4 py-10\">\r\n        <Heading text1={\"Service\"} text2={\"Details\"} />\r\n\r\n        <button\r\n          onClick={() => navigate(-1)}\r\n          className=\"mb-6 text-blue-600 hover:underline\">\r\n          ← Back\r\n        </button>\r\n        <div className=\"relative\">\r\n          {/* Image Section with Fullscreen Icon */}\r\n          <img\r\n            src={service.imageUrl}\r\n            className=\"h-[60vh] w-full rounded-2xl cursor-pointer object-cover\"\r\n            alt={service.title}\r\n            // onClick={() => setIsImageOpen(true)} // Open full-screen when image is clicked\r\n          />\r\n          <i\r\n            className=\"fa-solid fa-expand text-white bg-gray-200/50 absolute bottom-2 right-2 p-2 rounded cursor-pointer hover:bg-gray-300/50 transition\"\r\n            onClick={() => setIsImageOpen(true)} // Open full-screen modal when clicked\r\n          ></i>\r\n        </div>\r\n\r\n        {/* Fullscreen Image Modal */}\r\n        {isImageOpen && (\r\n          <div className=\"fixed inset-0 bg-black/80 z-50 flex items-center justify-center\">\r\n            <div className=\"relative max-w-6xl w-full mx-4\">\r\n              <img\r\n                loading=\"lazy\"\r\n                src={service.imageUrl}\r\n                alt=\"Full screen\"\r\n                className=\"w-full max-h-[90vh] object-contain rounded-lg\"\r\n              />\r\n              <button\r\n                onClick={() => setIsImageOpen(false)} // Close the full-screen modal\r\n                className=\"absolute top-4 right-4 bg-white text-black px-2 py-1 rounded-full shadow-md hover:bg-red-600 hover:text-white transition\">\r\n                ✕\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"bg-white shadow-md rounded-xl p-6 space-y-4\">\r\n          <h1 className=\"text-3xl font-bold text-gray-800\">{service.title}</h1>\r\n          <p className=\"text-gray-700 text-lg mulish whitespace-pre-line\">\r\n            {service.description}\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      {service.details && service.details.length > 0 && (\r\n        <section className=\"py-16 px-4 min-h-[60vh] bg-gradient-to-br from-sky-100/50 to-indigo-100/50\">\r\n          <div className=\"max-w-6xl mx-auto\">\r\n            <Heading text1={\"Discover\"} text2={\"Our Approach\"} />\r\n\r\n            <div className=\"mt-10 flex flex-col lg:flex-row gap-6\">\r\n              {/* Vertical (on desktop) / Horizontal (on mobile) Tab Headers */}\r\n              <div className=\"flex overflow-x-auto lg:flex-col gap-3 w-full lg:w-1/4 pb-2 lg:pb-0\">\r\n                {service.details.map((detail, index) => {\r\n                  const isActive = selectedIndex === index;\r\n\r\n                  return (\r\n                    <button\r\n                      key={index}\r\n                      onClick={() => setSelectedIndex(index)}\r\n                      className={`relative flex-shrink-0 group px-4 py-3 text-sm font-medium rounded-lg transition duration-300\r\n                  ${\r\n                    isActive\r\n                      ? \"bg-blue-600 text-white shadow-lg\"\r\n                      : \"bg-white text-gray-700 border border-blue-100 hover:bg-blue-50\"\r\n                  }`}>\r\n                      {detail.head}\r\n                      {isActive && (\r\n                        <div className=\"absolute right-2 top-1/2 -translate-y-1/2 w-2.5 h-2.5 bg-white rounded-full shadow-md group-hover:scale-125 transition-transform duration-300\" />\r\n                      )}\r\n                    </button>\r\n                  );\r\n                })}\r\n              </div>\r\n\r\n              {/* Active Detail Content */}\r\n              <div\r\n                key={selectedIndex}\r\n                className=\"w-full lg:w-3/4 bg-white/60 backdrop-blur-md border border-white/50 p-6 sm:p-8 rounded-xl shadow-xl transition-all duration-500 animate-fade-in\">\r\n                <h3 className=\"text-xl sm:text-2xl font-semibold text-indigo-800 mb-3 sm:mb-4\">\r\n                  {service.details[selectedIndex].head}\r\n                </h3>\r\n                <p className=\"text-gray-800 text-base leading-relaxed whitespace-pre-line\">\r\n                  {service.details[selectedIndex].description}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n      )}\r\n\r\n      <TabSlider />\r\n      <SuggestedServices id={service._id} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ServiceDetails;\r\n"],"names":["SuggestedServices","id","services","setServices","useState","useEffect","async","res","fetch","backendurl","ok","Error","status","filtered","json","filter","service","_id","slice","err","console","error","fetchServices","jsxs","className","children","jsx","Heading","text1","text2","map","Link","to","imageUrl","loading","src","startsWith","alt","title","description","ServiceDetails","useParams","navigate","useNavigate","setService","setLoading","setError","selectedIndex","setSelectedIndex","isImageOpen","setIsImageOpen","data","message","fetchService","details","length","interval","setInterval","prevIndex","clearInterval","Fragment","onClick","detail","index","isActive","head","TabSlider"],"mappings":"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"}