{"version":3,"file":"Login.Cg0h8R3y.js","sources":["../../src/Pages/Login.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { backendurl } from \"../App\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst Login = () => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [message, setMessage] = useState(\"\"); // Fixed typo here: setMessagte -> setMessage\r\n  const [token, setToken] = useState(\"\"); // Storing JWT token\r\n\r\n  const navigate = useNavigate(); // For navigation after login\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const response = await fetch(`${backendurl}/api/users/login`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({ email, password }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const errorData = await response.json();\r\n        throw new Error(errorData.message || \"Login failed\");\r\n      }\r\n\r\n      const data = await response.json();\r\n      setToken(data.token);\r\n      setMessage(\"Login successful!\");\r\n      localStorage.setItem(\"token\", data.token);\r\n      navigate(\"/admin/createblog\");\r\n      setEmail(\"\");\r\n      setPassword(\"\");\r\n    } catch (error) {\r\n      setMessage(error.message || \"Something went wrong!\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"h-screen items-center justify-center flex\">\r\n      <div className=\"w-md mx-auto p-6 border rounded-lg shadow-md\">\r\n        <h2 className=\"text-2xl font-bold text-center mb-4\">Login</h2>\r\n        {message && <p className=\"text-red-600 text-center mb-4\">{message}</p>}\r\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n          <div>\r\n            <label\r\n              htmlFor=\"email\"\r\n              className=\"block text-sm font-medium text-gray-700\">\r\n              Email\r\n            </label>\r\n            <input\r\n              type=\"email\"\r\n              id=\"email\"\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n              placeholder=\"Enter Admin Email\"\r\n              className=\"w-full p-2 border rounded-md\"\r\n              required\r\n            />\r\n          </div>\r\n          <div>\r\n            <label\r\n              htmlFor=\"password\"\r\n              className=\"block text-sm font-medium text-gray-700\">\r\n              Password\r\n            </label>\r\n            <input\r\n              type=\"password\"\r\n              id=\"password\"\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n              placeholder=\"Enter Admin Password\"\r\n              className=\"w-full p-2 border rounded-md\"\r\n              required\r\n            />\r\n          </div>\r\n          <button\r\n            type=\"submit\"\r\n            className=\"w-full py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700\">\r\n            Login\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"names":["Login","email","setEmail","useState","password","setPassword","message","setMessage","token","setToken","navigate","useNavigate","className","children","jsxs","jsx","onSubmit","async","e","preventDefault","response","fetch","backendurl","method","headers","body","JSON","stringify","ok","errorData","json","Error","data","localStorage","setItem","error","htmlFor","type","id","value","onChange","target","placeholder","required"],"mappings":"6DAIA,MAAMA,EAAQ,KACZ,MAAOC,EAAOC,GAAYC,EAAAA,SAAS,KAC5BC,EAAUC,GAAeF,EAAAA,SAAS,KAClCG,EAASC,GAAcJ,EAAAA,SAAS,KAChCK,EAAOC,GAAYN,EAAAA,SAAS,IAE7BO,EAAWC,IA8BjB,aACG,MAAA,CAAIC,UAAU,4CACbC,SAAAC,EAAAA,KAAC,MAAA,CAAIF,UAAU,+CACbC,SAAA,CAAAE,EAAAA,IAAC,KAAA,CAAGH,UAAU,sCAAsCC,SAAA,UACnDP,GAAWS,EAAAA,IAAC,IAAA,CAAEH,UAAU,gCAAiCC,SAAAP,IAC1DQ,EAAAA,KAAC,OAAA,CAAKE,SAjCSC,MAAOC,IAC1BA,EAAEC,iBACF,IACE,MAAMC,QAAiBC,MAAM,GAAGC,oBAA8B,CAC5DC,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CAAE1B,QAAOG,eAGhC,IAAKgB,EAASQ,GAAI,CAChB,MAAMC,QAAkBT,EAASU,OACjC,MAAM,IAAIC,MAAMF,EAAUvB,SAAW,eAAc,CAGrD,MAAM0B,QAAaZ,EAASU,OAC5BrB,EAASuB,EAAKxB,OACdD,EAAW,qBACX0B,aAAaC,QAAQ,QAASF,EAAKxB,OACnCE,EAAS,qBACTR,EAAS,IACTG,EAAY,GAAE,OACP8B,GACP5B,EAAW4B,EAAM7B,SAAW,wBAAuB,GASnBM,UAAU,YACtCC,SAAA,CAAAC,OAAC,MAAA,CACCD,SAAA,CAAAE,EAAAA,IAAC,QAAA,CACCqB,QAAQ,QACRxB,UAAU,0CAA0CC,SAAA,UAGtDE,EAAAA,IAAC,QAAA,CACCsB,KAAK,QACLC,GAAG,QACHC,MAAOtC,EACPuC,SAAWtB,GAAMhB,EAASgB,EAAEuB,OAAOF,OACnCG,YAAY,oBACZ9B,UAAU,+BACV+B,UAAQ,cAGX,MAAA,CACC9B,SAAA,CAAAE,EAAAA,IAAC,QAAA,CACCqB,QAAQ,WACRxB,UAAU,0CAA0CC,SAAA,aAGtDE,EAAAA,IAAC,QAAA,CACCsB,KAAK,WACLC,GAAG,WACHC,MAAOnC,EACPoC,SAAWtB,GAAMb,EAAYa,EAAEuB,OAAOF,OACtCG,YAAY,uBACZ9B,UAAU,+BACV+B,UAAQ,OAGZ5B,EAAAA,IAAC,SAAA,CACCsB,KAAK,SACLzB,UAAU,kEAAkEC,SAAA"}